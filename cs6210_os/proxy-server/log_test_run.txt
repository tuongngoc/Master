Following is the output from the Udacity test run:
 
gtcache_init: capacity=49144, min_entry_size=1024, num_levels=4, max_num_entries=47
 
==> (this gtcache_set trace line is printed at the start of the function)
gtcache_set: mem:used=0, capacity=49144, level=1 for val_size=4095, key=http://163.com
gtcache_set: mem:used=12286, capacity=49144, level=1 for val_size=4095, key=http://about.com
gtcache_set: mem:used=16381, capacity=49144, level=2 for val_size=8191, key=http://adobe.com
gtcache_set: mem:used=24572, capacity=49144, level=1 for val_size=4095, key=http://alibaba.com
gtcache_set: mem:used=28667, capacity=49144, level=2 for val_size=8191, key=http://alipay.com
gtcache_set: mem:used=36858, capacity=49144, level=1 for val_size=4095, key=http://amazon.co.jp
gtcache_set: mem:used=40953, capacity=49144, level=2 for val_size=8191, key=http://amazon.com
 
gtcache_set: : CE: ==================================== Table of Cache Entries
gtcache_set: : CE: mem_used=49144, capacity=49144 <== NOTE Cache FULL, replacement will happen next
gtcache_set: : CE: id=0, url=http://163.com, usedsz=4095, totalsz=4095, level=1, memp=0x1476ef0
gtcache_set: : CE: id=1, url=http://4shared.com, usedsz=8191, totalsz=8191, level=2, memp=0x1461c60 <== 
gtcache_set: : CE: id=2, url=http://about.com, usedsz=4095, totalsz=4095, level=1, memp=0x1477f00
gtcache_set: : CE: id=3, url=http://adobe.com, usedsz=8191, totalsz=8191, level=2, memp=0x1463c70 <==
gtcache_set: : CE: id=4, url=http://alibaba.com, usedsz=4095, totalsz=4095, level=1, memp=0x1465c80
gtcache_set: : CE: id=5, url=http://alipay.com, usedsz=8191, totalsz=8191, level=2, memp=0x1487f30
gtcache_set: : CE: id=6, url=http://amazon.co.jp, usedsz=4095, totalsz=4095, level=1, memp=0x1425ed0
gtcache_set: : CE: id=7, url=http://amazon.com, usedsz=8191, totalsz=8191, level=2, memp=0x1489f40
gtcache_set: : CE: id=8, ...
gtcache_set: : CE: id=9, ...
...
gtcache_set: : CE: id=23, ...
==> (Note: Entries marked by <== will be replaced next. They are at the same level 2.)

gtcache_set: mem:used=49144, capacity=49144, level=3 for val_size=10238, key=http://amazon.de
gtcache_set: cache is FULL, do LRUMIN cache replacement to free cache entries
gtcache_set: updated cache entry id=3 for url=http://amazon.de, usedsz=10238, totalsz=10238
gtcache_set: : CE: ====================================
gtcache_set: : CE: mem_used=43000, capacity=49144
gtcache_set: : CE: id=0, url=http://163.com, usedsz=4095, totalsz=4095, level=1, memp=0x1476ef0
gtcache_set: : CE: id=1, ... <==
gtcache_set: : CE: id=2, url=http://about.com, usedsz=4095, totalsz=4095, level=1, memp=0x1477f00
gtcache_set: : CE: id=3, url=http://amazon.de, usedsz=10238, totalsz=10238, level=3, memp=0x1461c60 <==
gtcache_set: : CE: id=4, url=http://alibaba.com, usedsz=4095, totalsz=4095, level=1, memp=0x1465c80
gtcache_set: : CE: id=5, url=http://alipay.com, usedsz=8191, totalsz=8191, level=2, memp=0x1487f30
gtcache_set: : CE: id=6, url=http://amazon.co.jp, usedsz=4095, totalsz=4095, level=1, memp=0x1425ed0
gtcache_set: : CE: id=7, url=http://amazon.com, usedsz=8191, totalsz=8191, level=2, memp=0x1489f40
gtcache_set: : CE: id=8, ...
gtcache_set: : CE: id=9, ...
...
gtcache_set: : CE: id=23, ...

gtcache_get: key=http://163.com-------------------------
gtcache_get: FOUND: key=http://163.com, id=0
gtcache_get: level=1
gtcache_get: url=http://163.com, calloc'ed cache_memp=0x1466c90
 
When there is no item larger than the space needed, remove from the largest non-empty level and recurse with new value of space needed.
An unexpected replacement seems to have taken place.
This error occurred in a program that tests that replacement occurs as expected.
-- End of output --

Note that the test program expects http://163.com to have been replaced, which proves that after deleting 4shared.com (size 8191 at level2), the test expects deletion of 163.com (size 4095 at level 1). 
Let me know if I have misunderstood any step above or if you think there is a bug in the implementation.


---------- The Test follow-------------
gtcache_init(49144, 1024, 4);
	gtcache_set("http://163.com", large,4095);
	gtcache_set("http ://4shared.com", large, 8191);
	gtcache_set("http ://about.com", large, 4095);
	gtcache_set("http ://adobe.com", large, 8191);
	gtcache_set("http ://alibaba.com", large, 4095);
	gtcache_set("http ://alipay.com", large, 8191);
	gtcache_set("http ://amazon.co.jp", large, 4095);
	gtcache_set("http ://amazon.com", large, 8191);
	gtcache_set("http ://amazon.de", large, 10238);
-----------------------
===Alog
while not_enough_space:
  for level = my level to 0:
    if pq at level is not empty and not_enough_space:
       evict min pq